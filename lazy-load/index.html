<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
  <style>
    *{
      margin: 0;
      padding: 0;
    }
    .image-item{
      display: flex;
      margin-bottom: 30px;
      height: 300px;
    }
  </style>
</head>
<body>
  <img class="image-item" src="" lazyload="true" data-original="https://timgsa.baidu.com/timg?image&quality=80&size=b9999_10000&sec=1596604156751&di=48c86fc8f9e04ddd512b9b1b25de6dd1&imgtype=0&src=http%3A%2F%2Fa3.att.hudong.com%2F35%2F34%2F19300001295750130986345801104.jpg" alt="">
  <img class="image-item" src="" lazyload="true" data-original="https://timgsa.baidu.com/timg?image&quality=80&size=b9999_10000&sec=1596604156751&di=436fc91211aab18932ada5eb59acb888&imgtype=0&src=http%3A%2F%2Fimg02.tooopen.com%2Fimages%2F20131212%2Fsy_51552288528.jpg" alt="">
  <img class="image-item" src="" lazyload="true" data-original="https://timgsa.baidu.com/timg?image&quality=80&size=b9999_10000&sec=1596604156751&di=4bfb6c14317e7b8405d4d2a5ccc26fbf&imgtype=0&src=http%3A%2F%2Fdmimg.5054399.com%2Fallimg%2Fpkm%2Fpmjlq%2F22.jpg" alt="">
  <img class="image-item" src="" lazyload="true" data-original="https://timgsa.baidu.com/timg?image&quality=80&size=b9999_10000&sec=1596604156747&di=361643bd7f3c7476552152dd9c0deb58&imgtype=0&src=http%3A%2F%2Fh.hiphotos.baidu.com%2Fzhidao%2Fpic%2Fitem%2F9c16fdfaaf51f3de9ba8ee1194eef01f3a2979a8.jpg" alt="">
  <img class="image-item" src="" lazyload="true" data-original="https://timgsa.baidu.com/timg?image&quality=80&size=b9999_10000&sec=1596604156745&di=c1086f2dfc4fa1162f77a358bd975560&imgtype=0&src=http%3A%2F%2Fg.hiphotos.baidu.com%2Fzhidao%2Fpic%2Fitem%2F5366d0160924ab18c1375d8835fae6cd7b890b6f.jpg" alt="">
  <img class="image-item" src="" lazyload="true" data-original="https://timgsa.baidu.com/timg?image&quality=80&size=b9999_10000&sec=1596604156744&di=0556c1a098642a24b38c8dec5490c0bb&imgtype=0&src=http%3A%2F%2Fi0.sinaimg.cn%2Fent%2Fm%2Ff%2F2013-03-05%2FU8385P28T3D3869939F326DT20130305120133.jpg" alt="">
  <img class="image-item" src="" lazyload="true" data-original="https://timgsa.baidu.com/timg?image&quality=80&size=b9999_10000&sec=1596604283685&di=31278099c97e06042aea42c70c141796&imgtype=0&src=http%3A%2F%2Fpic5.nipic.com%2F20100116%2F3004787_144103081367_2.jpg" alt="">
  <img class="image-item" src="" lazyload="true" data-original="https://timgsa.baidu.com/timg?image&quality=80&size=b9999_10000&sec=1596604283684&di=11969f250e16ce9704f2b594f2c904d7&imgtype=0&src=http%3A%2F%2Fa1.att.hudong.com%2F81%2F71%2F01300000164151121808718718556.jpg" alt="">
  <img class="image-item" src="" lazyload="true" data-original="https://timgsa.baidu.com/timg?image&quality=80&size=b9999_10000&sec=1596604283684&di=90399c7e934465ae05efd80e62988db5&imgtype=0&src=http%3A%2F%2Fa0.att.hudong.com%2F22%2F43%2F01300533991704134665435963373.jpg" alt="">
  <img class="image-item" src="" lazyload="true" data-original="https://timgsa.baidu.com/timg?image&quality=80&size=b9999_10000&sec=1596604283684&di=d2032ff7feaf726a2a63a6364ee34048&imgtype=0&src=http%3A%2F%2Fe.hiphotos.baidu.com%2Fzhidao%2Fpic%2Fitem%2Fb3119313b07eca8039b707fa912397dda1448378.jpg" alt="">
  <img class="image-item" src="" lazyload="true" data-original="https://timgsa.baidu.com/timg?image&quality=80&size=b9999_10000&sec=1596604283682&di=2eb56935a210d583688979c5980b45ea&imgtype=0&src=http%3A%2F%2Ffile5.gucn.com%2Ffile%2FCurioPicfile%2F20111226%2FGucn_2011122647903163722Pic1.jpg" alt="">
  <img class="image-item" src="" lazyload="true" data-original="https://timgsa.baidu.com/timg?image&quality=80&size=b9999_10000&sec=1596604283679&di=f72693b132ab34759d301406dfbde78b&imgtype=0&src=http%3A%2F%2Fa2.att.hudong.com%2F42%2F31%2F01300001320894132989315766618.jpg" alt="">
  <img class="image-item" src="" lazyload="true" data-original="https://timgsa.baidu.com/timg?image&quality=80&size=b9999_10000&sec=1596604283679&di=ce97ea15f8c2e30e4dc4f24c027a371b&imgtype=0&src=http%3A%2F%2Fpic1a.nipic.com%2F2008-08-26%2F200882612504865_2.jpg" alt="">
  <img class="image-item" src="" lazyload="true" data-original="https://timgsa.baidu.com/timg?image&quality=80&size=b9999_10000&sec=1596604374953&di=2de2e5c37ca81d761c884221ba820e0b&imgtype=0&src=http%3A%2F%2Fa0.att.hudong.com%2F65%2F05%2F28300541959185136602056259767_950.jpg" alt="">
  <img class="image-item" src="" lazyload="true" data-original="https://timgsa.baidu.com/timg?image&quality=80&size=b9999_10000&sec=1596604374952&di=b37117bcc5edb7493b94833ead8f48b4&imgtype=0&src=http%3A%2F%2Fe.hiphotos.baidu.com%2Fzhidao%2Fpic%2Fitem%2Fa686c9177f3e6709b514305f3ac79f3df8dc557d.jpg" alt="">
  <img class="image-item" src="" lazyload="true" data-original="https://timgsa.baidu.com/timg?image&quality=80&size=b9999_10000&sec=1596604374951&di=5542d6e05f7a76140a71f3c5bf18c5cf&imgtype=0&src=http%3A%2F%2Fa4.att.hudong.com%2F55%2F83%2F01000000000000119088390903155.jpg" alt="">
  <img class="image-item" src="" lazyload="true" data-original="https://timgsa.baidu.com/timg?image&quality=80&size=b9999_10000&sec=1596604374950&di=23f4b4812d2e7838b214ec477d6dbe12&imgtype=0&src=http%3A%2F%2Ffile7.gucn.com%2Ffile%2FCurioPicfile%2F20130902%2FGucnP_U282752T681399611378113537740.jpg" alt="">
  <script>
    // 可视区域的高度
    let viewHeight = document.documentElement.clientHeight
    // console.log(viewHeight)

    function lazyload(){
      let eles = document.querySelectorAll('img[data-original][lazyload]')
      // console.log(eles)
      // 判断每一个img是否出现在可视区域内
      // Array.from(eles).forEach(item => {
      //   console.log(item)
      // })
      // eles.forEach(item => {
      //   console.log(item)
      // })
      Array.prototype.forEach.call(eles, function(item, index) {
        // console.log(item)
        let rect;
        rect = item.getBoundingClientRect() // 用于获取页面上某个元素的左，上，右和下分别相对浏览器视窗的位置
        console.log(rect)
        if (rect.bottom >= 0 && rect.top < viewHeight){ // 在可视区域内
          !function(){
            let img = new Image()
            img.src = item.dataset.original
            img.onload = function(){
              item.src = img.src
            }
            item.removeAttribute('data-original') // 移除属性，下次不再遍历
            item.removeAttribute('lazyload')
          }()
        }
      })
    }
    lazyload()
    document.addEventListener('scroll', lazyload)
  </script>
</body>
</html>