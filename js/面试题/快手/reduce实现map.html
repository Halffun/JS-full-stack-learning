<script>
  // map [1,2].map(x => x + 1)   [2,3]
  // let res =  []
  // for (let i = 0; i < len; i ++) { res.push(fn(arr[i])) }
  // return res;
  // reduce
  // function c(c) {}
  // c('123')
  function readFile(fn) {
    // ...
    setTimeout(() => {
      fn('hello world');
    }, 2000);
  }
  readFile((c) => {
    // 两秒过后 输出 hello world
    console.log(c)
  })
  Array.prototype.myMap = function(fn) {
    let res = []
    for (let i = 0; i < this.length; i ++) {
      let item = this[i];
      res.push(fn(item));
    }
    return res;
  }
  Array.prototype.myMap1 = function(fn) {
    // 累加
    // 1: pre = []  next: 1  =>  [2]
    // 2: pre = [2] next: 2  =>  [2, 3]
    // return pre => [2, 3]
    return this.reduce((pre, next) => {
      pre.push(fn(next));
      return pre;
    }, [])
  }
  const r = [1, 2].myMap1(x => x + 1)
   console.log(r);

   Number.prototype.add = function(v) {
     return this + v;
   }
   Number.prototype.minus = function(v) {
     return this - v;
   }
   console.log((10).add(10).minus(2))

   let instance = null;
   function Person() {
     // 
     if (!instance) {
      instance = new Person();
     }
     return instance;
   }
   console.log(new Person() === new Person())
   // 弹框
</script>
